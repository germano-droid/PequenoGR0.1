<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SpaceCode v12 | Slim Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --bg: #020204;
            --panel: rgba(20, 20, 30, 0.4);
            --primary: #00d2ff;
            --secondary: #9d50bb;
            --accent: #00ffa3;
            --danger: #ff4b2b;
            --border: rgba(255, 255, 255, 0.05);
            --sidebar-w: 65px; /* Mais fina */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }
        
        body { 
            background: var(--bg); color: #fff; font-family: 'Plus Jakarta Sans', sans-serif;
            display: flex; min-height: 100vh; overflow-x: hidden;
        }

        /* SIDEBAR COMPACTA */
        aside {
            width: var(--sidebar-w); background: rgba(5, 5, 10, 0.95);
            border-right: 1px solid var(--border); display: flex; flex-direction: column;
            align-items: center; padding: 20px 0; gap: 20px; position: fixed; height: 100vh; z-index: 100;
        }
        .nav-item { width: 40px; height: 40px; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #444; cursor: pointer; transition: 0.3s; }
        .nav-item:hover, .nav-item.active { color: var(--primary); background: rgba(0, 210, 255, 0.1); }

        /* MAIN AREA */
        main { flex: 1; margin-left: var(--sidebar-w); width: calc(100% - var(--sidebar-w)); padding: 20px 30px; }

        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; gap: 15px; }
        .logo { font-size: 1.2rem; font-weight: 800; min-width: 150px; }
        .logo span { color: var(--primary); }

        /* BARRA DE BUSCA COMPACTA */
        .search-box {
            background: var(--panel); border: 1px solid var(--border);
            padding: 8px 15px; border-radius: 12px; width: 300px;
            display: flex; align-items: center; gap: 10px; backdrop-filter: blur(10px);
        }
        .search-box input { background: transparent; border: none; color: white; width: 100%; font-size: 0.85rem; }

        /* STATUS BAR SLIM */
        .status-bar {
            display: flex; gap: 20px; background: rgba(255,255,255,0.02);
            padding: 8px 20px; border-radius: 12px; margin-bottom: 25px;
            border: 1px solid var(--border); font-size: 0.75rem; color: #888;
        }
        .status-bar b { color: var(--primary); }

        /* GRID MAIS DENSO */
        .grid {
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); /* Mais colunas por linha */
            gap: 15px;
        }

        /* CARD REDUZIDO */
        .card {
            background: var(--panel); border: 1px solid var(--border);
            border-radius: 18px; padding: 18px; transition: 0.3s;
            position: relative; display: flex; flex-direction: column;
        }
        .card:hover { border-color: var(--primary); transform: translateY(-3px); background: rgba(25, 25, 40, 0.6); }

        .tag { font-size: 0.6rem; font-weight: 800; color: var(--secondary); margin-bottom: 5px; text-transform: uppercase; }
        .card h3 { font-size: 1rem; margin-bottom: 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        .code-pre {
            background: rgba(0,0,0,0.3); padding: 8px 12px; border-radius: 10px;
            font-family: 'JetBrains Mono', monospace; font-size: 0.7rem;
            color: #666; border: 1px solid rgba(255,255,255,0.02);
            margin-bottom: 15px; overflow: hidden;
        }

        /* BOTÕES COMPACTOS EM LINHA */
        .btn-row { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 6px; }
        .btn {
            padding: 8px; border-radius: 8px; border: none; cursor: pointer;
            font-weight: 700; font-size: 0.75rem; display: flex; align-items: center; justify-content: center; transition: 0.2s;
        }
        .btn-copy { background: var(--primary); color: #000; }
        .btn-sec { background: rgba(255,255,255,0.05); color: #fff; }
        .btn-del { background: rgba(255, 70, 70, 0.1); color: var(--danger); }
        .btn:hover { filter: brightness(1.2); }

        /* FAB COMPACTO */
        .fab {
            position: fixed; bottom: 25px; right: 25px; width: 50px; height: 50px;
            background: var(--primary); border-radius: 15px; display: flex;
            align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        /* MODAL SLIM */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); z-index: 1000;
            align-items: center; justify-content: center; padding: 20px;
        }
        .modal-box { background: #0a0a0f; width: 100%; max-width: 400px; padding: 25px; border-radius: 20px; border: 1px solid var(--border); }
        input, textarea { width: 100%; padding: 12px; background: #161620; border: 1px solid var(--border); border-radius: 10px; color: #fff; margin-bottom: 10px; font-size: 0.85rem; }

        #toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #fff; color: #000; padding: 8px 20px; border-radius: 50px; font-weight: 800; font-size: 0.8rem; display: none; z-index: 2000; }

        @media (max-width: 600px) {
            aside { width: 55px; }
            main { margin-left: 55px; width: calc(100% - 55px); padding: 15px; }
            .search-box { width: 100%; }
            header { flex-direction: column; align-items: flex-start; }
        }
    </style>
</head>
<body>

    <aside>
        <div class="nav-item active"><i data-lucide="grid" size="20"></i></div>
        <div class="nav-item" onclick="exportDB()"><i data-lucide="download" size="20"></i></div>
        <div class="nav-item" style="margin-top: auto;" onclick="localStorage.clear(); location.reload();"><i data-lucide="trash-2" size="20" color="var(--danger)"></i></div>
    </aside>

    <main>
        <header>
            <div class="logo">SPACE<span>CODE</span></div>
            <div class="search-box">
                <i data-lucide="search" size="14" color="#555"></i>
                <input type="text" id="searchInput" placeholder="Filtrar scripts..." onkeyup="render()">
            </div>
        </header>

        <div class="status-bar">
            <span>TOTAL: <b id="totalCount">0</b></span>
            <span>VERIFICADOS: <b id="verifiedCount">0</b></span>
            <span style="margin-left:auto">SISTEMA: <b>ESTÁVEL</b></span>
        </div>

        <div class="grid" id="mainGrid"></div>
    </main>

    <div class="fab" onclick="toggleModal(true)"><i data-lucide="plus" color="#000" size="24"></i></div>
    <div id="toast">COPIADO!</div>

    <div class="modal" id="modal">
        <div class="modal-box">
            <h4 style="margin-bottom:15px">Novo Script</h4>
            <input type="text" id="in-title" placeholder="Título">
            <input type="text" id="in-game" placeholder="Link do Roblox">
            <textarea id="in-code" rows="4" placeholder="Código LUA"></textarea>
            <button class="btn btn-copy" style="width:100%; padding:12px" onclick="handleSave()">SALVAR SCRIPT</button>
            <button class="btn" style="width:100%; margin-top:8px; background:none; color:#555" onclick="toggleModal(false)">CANCELAR</button>
        </div>
    </div>

    <script>
        let storage = JSON.parse(localStorage.getItem('space_slim_v12')) || [];

        function toggleModal(s) { document.getElementById('modal').style.display = s ? 'flex' : 'none'; }

        function render() {
            const grid = document.getElementById('mainGrid');
            const search = document.getElementById('searchInput').value.toLowerCase();
            const filtered = storage.filter(s => s.title.toLowerCase().includes(search));

            document.getElementById('totalCount').innerText = storage.length;
            document.getElementById('verifiedCount').innerText = storage.filter(s => s.verified).length;

            grid.innerHTML = filtered.map(s => `
                <div class="card">
                    <span class="tag">${s.verified ? 'Verificado' : 'Universal'}</span>
                    <h3>${s.title}</h3>
                    <div class="code-pre"><code>${s.code.substring(0, 40)}...</code></div>
                    <div class="btn-row">
                        <button class="btn btn-copy" onclick="copyCode('${encodeURIComponent(s.code)}')">COPIAR</button>
                        <button class="btn btn-sec" onclick="window.open('${s.game}', '_blank')"><i data-lucide="external-link" size="14"></i></button>
                        <button class="btn btn-del" onclick="remove(${s.id})"><i data-lucide="x" size="14"></i></button>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function handleSave() {
            const t = document.getElementById('in-title').value;
            const g = document.getElementById('in-game').value;
            const c = document.getElementById('in-code').value;
            if(!t || !c) return;

            storage.unshift({ id: Date.now(), title: t, game: g, code: c, verified: g.includes('roblox.com') });
            localStorage.setItem('space_slim_v12', JSON.stringify(storage));
            toggleModal(false);
            render();
            showToast('SALVO COM SUCESSO!');
        }

        function remove(id) {
            storage = storage.filter(s => s.id !== id);
            localStorage.setItem('space_slim_v12', JSON.stringify(storage));
            render();
        }

        function copyCode(enc) {
            navigator.clipboard.writeText(decodeURIComponent(enc));
            showToast('COPIADO!');
        }

        function showToast(m) {
            const t = document.getElementById('toast');
            t.innerText = m; t.style.display = 'block';
            setTimeout(() => t.style.display = 'none', 2000);
        }

        function exportDB() {
            const blob = new Blob([JSON.stringify(storage)], {type: 'application/json'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'backup_v12.json';
            a.click();
        }

        window.onload = render;
    </script>
</body>
                              </html>
                              
